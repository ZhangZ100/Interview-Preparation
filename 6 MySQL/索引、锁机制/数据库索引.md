## 正文



**索引有哪些数据结构？**

- Hash

- B+ Tree

设计索引的时候，会发现索引类型是可以选择的。（用可视化工具设计索引时）

![image-20220120220749423](%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95.assets/image-20220120220749423.png)

**为什么哈希表、完全平衡二叉树、B树、B+树都可以优化查询，为何Mysql独独喜欢B+树？**



- hash：字段值所对应的数组下标是哈希算法随机算出来的，所以可能出现**哈希冲突**。

![image-20220120220905329](%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95.assets/image-20220120220905329.png)



hash表的特点：可以快速的精确查询，但是不支持范围查询



**Hash表在哪些场景比较适合？**

- 等值查询的场景，就只有KV(Key, Value)的情况。
- 例如Redis、Memcached这些NoSQL中间件



![image-20220120221121725](%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95.assets/image-20220120221121725.png)

有序数组：等值查询和范围查询都Nice

- 适合静态数据结构
- add,update,delete时该变它的解构，比如新增，新增后面的所有节点后移，成本比较高

![image-20220120221348852](%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95.assets/image-20220120221348852.png)

![image-20220120221408713](%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95.assets/image-20220120221408713.png)

![image-20220120221516706](%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95.assets/image-20220120221516706.png)

![image-20220120221533539](%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95.assets/image-20220120221533539.png)

B+树作为索引：

- 提高查询索引时的磁盘IO效率
- 提高范围查询的效率
- B+树里的元素也是有序的

![image-20220120221713629](%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95.assets/image-20220120221713629.png)

![image-20220120221732953](%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95.assets/image-20220120221732953.png)

![image-20220120221755390](%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95.assets/image-20220120221755390.png)

![image-20220120221847725](%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95.assets/image-20220120221847725.png)

![image-20220120222118109](%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95.assets/image-20220120222118109.png)

![image-20220120222227467](%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95.assets/image-20220120222227467.png)



覆盖索引减少了回到 主键索引树搜索这个过程（比如覆盖索引本身有id，原来回表的，就是去查主键索引）

覆盖索引

- 减少树的搜索次数，提升性能

![image-20220120222421771](%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95.assets/image-20220120222421771.png)

![image-20220120222737395](%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95.assets/image-20220120222737395.png)



## 来源，链接

来自 敖丙

https://mp.weixin.qq.com/s/_9rDde9wRYoZeh07EASNQQ